#comments

network "leskovec" 100 {
	gateway mac 00:14:85:28:38:69 100
	gateway ip 10.142.1.1 50
	nbns name "HARMONY" 50
	wifi essid "leskovec" 100
	wifi mac 00:4F:62:23:8F:3C 100

	dns ip 10.142.1.1 50
	dhcps mac 00:14:85:28:38:69 100
}

action "leskovec-wifi" {
	execute "../scripts/wpa.sh" "wlan0"
	use wpa "wlan0" "leskovec"
	execute "../scripts/dhcp.sh" "wlan0"
}

action "leskovec-eth" {
	execute "../scripts/dhcp.sh" "eth0"
}

assembly "leskovec" {
	network "leskovec"
	link "eth0" up "leskovec-eth" down rev "leskovec-eth"
	fallback up "leskovec-wifi" down rev "leskovec-wifi"
}

network "home" 100 {
	wifi mac 00:0E:2E:64:66:58 50
	wifi essid "magon-home" 50
	stp root 80:00:00:0E:2E:64:66:58 100
	gateway ip 192.168.0.1 mac 00:0E:2E:64:66:58 50
	dhcps mac 00:0E:2E:64:66:58 50
	nbns name "ZALOHY" 50
}

network "school" 100 {
	eap mac 00:1D:E5:8D:26:C0 100
	eap mac 00:13:CE:67:26:52 100 #my mac :-)
	eap mac 00:1D:E5:2F:1B:E0 100
	dns ip 195.113.21.1 50
	wlccp mac 00:1D:A1:CD:13:96 100
	wlccp mac 00:1D:E5:8D:26:C0 100
	wlccp mac 00:19:2F:7E:50:8C 100
	wlccp mac 00:15:C6:43:B0:02 100
	wlccp mac 00:15:63:66:E5:45 100
	cdp id "cisco" 100
	wifi essid "K2" 100 # work
	wifi essid "stirka.cznet.cz" 100
}

network "dorms" 100 {
	gateway mac 00:0E:0C:70:DA:62 100
	eap mac 00:1A:6C:F9:95:A1 100
}

network "generic-dhcp" 1 {
	dhcps not mac 01:01:01:01:01:01 50
}

action "home-wifi" {
	execute "../scripts/wpa.sh" "wlan0"
	use wpa "wlan0" "magon-home"
	execute "../scripts/dhcp.sh" "wlan0"
}

action "home-wire" {
	execute "/home/magon/scripts/tutu.sh" "42"
}

action "home-down" {
	execute "/home/magon/scripts/tutu.sh" "-42"
}

action "shutdown" {
	execute "/etc/scripts/down.sh"
}

action "dhcp" {
	use dhcp
}

action "school" {
	use wpa "eth0" "KOLEJ"
	execute "/home/magon/scripts/tutu.sh" "55"
	execute "/home/magon/scripts/tutu.sh" "2"
}

assembly "home" {
	network "home"
	link "eth0" up "home-wire" down "home-down"
	fallback up "home-wifi" down rev "home-wifi"
}

#assembly "home" on match "home" #matches passed in ENV VARS
#assembly "home" on down "home" #ENV ACTION="down"
